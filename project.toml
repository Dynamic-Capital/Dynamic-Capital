[project]
id = "dynamic-chatty-bot"
name = "Dynamic Chatty Bot"
version = "0.0.0"

[build]
  [[build.buildpacks]]
    uri = "paketo-buildpacks/hugo"

  [[build.buildpacks]]
    uri = "paketo-buildpacks/deno"

  [[build.buildpacks]]
    uri = "paketo-buildpacks/nodejs"

  # Enable build caching for faster subsequent deployments
  [[build.cache]]
    path = "node_modules"

  [[build.cache]]
    path = "apps/web/.next/cache"

  [[build.env]]
    name = "BP_NODE_VERSION"
    value = "22.*"

  [[build.env]]
    name = "NPM_START_SCRIPT"
    value = "lovable-build.js"

  [[build.env]]
    name = "ALLOWED_ORIGINS"
    value = "https://example.com"

[[processes]]
type = "web"
command = "npm start"
