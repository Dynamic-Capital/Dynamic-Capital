{
  "domain": "dynamiccapital.ton",
  "type": "TON_DNS",
  "resolver_contract": "EQADj0c2ULLRZBvQlWPrjJnx6E5ccusPuP3FNKRDDxTBtTNo",
  "nft": {
    "address": "EQADj0c2ULLRZBvQlWPrjJnx6E5ccusPuP3FNKRDDxTBtTNo",
    "collectionAddress": "EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",
    "ownerAddress": "UQD1zAJPYZMYf3Y9B4SL7fRLFU-Vg5V7RcLMnEu2H_cNOK0G",
    "image": "https://dns-image.mytonwallet.org/img?d=dynamiccapital",
    "name": "dynamiccapital.ton",
    "description": null,
    "index": "80873690796054040234093249941684590733974627304617667952956467058382753434080",
    "attributes": [],
    "metadataUrl": null,
    "collectionMetadata": {
      "name": "TON DNS Domains",
      "description": "*.ton domains",
      "image": "https://dns.ton.org/icon.png",
      "source": "https://dns.ton.org/collection.json"
    }
  },
  "ton_site": {
    "adnl_address": "0:65f3bcd1730c1cdde82a75b0331ee8b5c28203f1ab1e7467347ae7b937feb239",
    "public_key_base64": "P1btEo7VrgH2gt1Y+IgcorLye7tjyY0jD+3xZLqIDT4=",
    "generated": {
      "command": "npm run ton:generate-adnl",
      "timestamp": "2025-10-02T21:08:41Z",
      "note": "ADNL derived from Ed25519 key pair for TON Site certificate provisioning"
    },
    "gateways": {
      "primary": {
        "host": "ton-gateway.dynamic-capital.ondigitalocean.app",
        "url": "https://ton-gateway.dynamic-capital.ondigitalocean.app/dynamiccapital.ton",
        "provider": "DigitalOcean App Platform",
        "note": "Cloudflare reverse proxy bridging standard browsers to the DigitalOcean TON Site origin (currently offline; redeploy dynamic-capital-qazf2.ondigitalocean.app before re-enabling).",
        "upstream": "https://dynamic-capital-qazf2.ondigitalocean.app",
        "status": "offline"
      },
      "fallback": {
        "host": "ton-gateway.dynamic-capital.lovable.app",
        "url": "https://ton-gateway.dynamic-capital.lovable.app/dynamiccapital.ton",
        "provider": "Lovable App Platform",
        "note": "Hot standby reverse proxy mirroring the DigitalOcean gateway (currently offline pending redeploy).",
        "upstream": "https://dynamic-capital-qazf2.ondigitalocean.app",
        "status": "offline"
      },
      "foundation": {
        "host": "ton.site",
        "url": "https://ton.site/dynamiccapital.ton",
        "provider": "TON Foundation",
        "note": "Official TON Foundation-operated HTTPS bridge for browsers without TON DNS support.",
        "status": "operational"
      }
    },
    "buttons": [
      {
        "label": "Manage",
        "uri": "https://dns.tonkeeper.com/manage?v=0:038f473650b2d1641bd09563eb8c99f1e84e5c72eb0fb8fdc534a4430f14c1b5",
        "note": "Tonkeeper DNS manager for ownership and resolver configuration"
      },
      {
        "label": "Open TON Site",
        "uri": "ton://dynamiccapital.ton",
        "note": "Native TON DNS entrypoint for wallets and TON-enabled browsers"
      },
      {
        "label": "Open HTTPS Gateway",
        "uri": "https://ton.site/dynamiccapital.ton",
        "note": "Primary TON Foundation gateway for browsers without TON DNS support."
      },
      {
        "label": "Open Legacy DigitalOcean Gateway",
        "uri": "https://ton-gateway.dynamic-capital.ondigitalocean.app/dynamiccapital.ton",
        "note": "Legacy DigitalOcean reverse proxy (currently offline until the TON bundle is redeployed)."
      },
      {
        "label": "Open Legacy Lovable Gateway",
        "uri": "https://ton-gateway.dynamic-capital.lovable.app/dynamiccapital.ton",
        "note": "Legacy Lovable reverse proxy (currently offline until the TON bundle is redeployed)."
      },
      {
        "label": "Operations Log",
        "uri": "https://github.com/dynamic-labs/Dynamic-Capital/blob/main/dns/ton-dns-operations-log.md",
        "note": "End-to-end change history and recovery steps"
      }
    ],
    "verification": {
      "https": {
        "checked_at": "2025-10-10T02:32:02Z",
        "status": "degraded",
        "endpoints": [
          {
            "url": "https://ton.site/dynamiccapital.ton",
            "http_status": 200,
            "notes": "TON Foundation gateway responded with HTTP 200."
          },
          {
            "url": "https://ton-gateway.dynamic-capital.ondigitalocean.app/dynamiccapital.ton",
            "http_status": 503,
            "notes": "Legacy DigitalOcean gateway returned HTTP 503 / DNS failure; redeploy required."
          },
          {
            "url": "https://ton-gateway.dynamic-capital.lovable.app/dynamiccapital.ton",
            "http_status": 503,
            "notes": "Legacy Lovable gateway returned HTTP 503 / DNS failure; redeploy required."
          }
        ]
      }
    },
    "access_points": {
      "native": {
        "type": "ton_dns",
        "endpoint": "dynamiccapital.ton",
        "status": "operational",
        "last_verified": "2025-10-10T02:32:02Z",
        "notes": "Primary resolution path for TON wallets and extensions"
      },
      "https": [
        {
          "host": "ton.site",
          "status": "operational",
          "last_verified": "2025-10-10T02:32:02Z",
          "notes": "TON Foundation-operated gateway currently serving the TON Site bundle."
        },
        {
          "host": "ton-gateway.dynamic-capital.ondigitalocean.app",
          "status": "offline",
          "last_verified": "2025-10-10T02:32:02Z",
          "depends_on": "https://dynamic-capital-qazf2.ondigitalocean.app",
          "notes": "Legacy DigitalOcean gateway offline pending redeploy."
        },
        {
          "host": "ton-gateway.dynamic-capital.lovable.app",
          "status": "offline",
          "last_verified": "2025-10-10T02:32:02Z",
          "depends_on": "https://dynamic-capital-qazf2.ondigitalocean.app",
          "notes": "Legacy Lovable gateway offline pending redeploy."
        }
      ],
      "origin": {
        "host": "dynamic-capital-qazf2.ondigitalocean.app",
        "platform": "DigitalOcean App Platform",
        "status": "operational",
        "last_redeploy": "2025-10-10T02:00:00Z",
        "notes": "Authoritative TON Site bundle; keep synchronized with the repo build artifacts"
      }
    },
    "monitoring": {
      "synthetic_probes": [
        {
          "name": "TON Foundation Gateway",
          "endpoint": "https://ton.site/dynamiccapital.ton",
          "cadence": "5m",
          "alert_policy": "#dynamiccapital-ton-site"
        },
        {
          "name": "Legacy DigitalOcean Gateway",
          "endpoint": "https://ton-gateway.dynamic-capital.ondigitalocean.app/dynamiccapital.ton",
          "cadence": "15m",
          "alert_policy": "#dynamiccapital-ton-site",
          "status": "paused"
        },
        {
          "name": "Legacy Lovable Gateway",
          "endpoint": "https://ton-gateway.dynamic-capital.lovable.app/dynamiccapital.ton",
          "cadence": "15m",
          "alert_policy": "#dynamiccapital-ton-site",
          "status": "paused"
        }
      ],
      "runbooks": [
        {
          "name": "TON DNS Operations",
          "uri": "https://github.com/dynamic-labs/Dynamic-Capital/blob/main/dns/toncli-dns-runbook.md"
        },
        {
          "name": "TON Site Gateway Recovery",
          "uri": "https://github.com/dynamic-labs/Dynamic-Capital/blob/main/dns/https-gateway-verification-2025-10-08.md"
        }
      ],
      "last_successful_probe": "2025-10-10T02:32:02Z"
    },
    "notes": [
      "2025-02-14: Promoted https://ton.site/dynamiccapital.ton as the primary HTTPS gateway while self-hosted proxies remain offline pending redeploy. Update scripts once the DigitalOcean and Lovable gateways return to service."
    ]
  },
  "records": [
    {
      "type": "A",
      "name": "@",
      "data": "216.198.79.1",
      "ttl": 3600,
      "note": "Vercel apex IP per 2025-10 guidance"
    },
    {
      "type": "CNAME",
      "name": "www",
      "data": "dynamiccapital.ton",
      "ttl": 3600,
      "note": "WWW subdomain points to root"
    },
    {
      "type": "CNAME",
      "name": "api",
      "data": "qeejuomcapbdlhnjqjcc.supabase.co",
      "ttl": 300,
      "note": "Routes API traffic to the live Supabase project ref"
    },
    {
      "type": "CNAME",
      "name": "pay",
      "data": "dynamiccapital.ton",
      "ttl": 300,
      "note": "Browser landing for payment flows; mirrors the root site while TON wallets resolve the alias natively"
    },
    {
      "type": "CNAME",
      "name": "ton-gateway",
      "data": "ton-gateway.dynamic-capital.ondigitalocean.app",
      "ttl": 300,
      "note": "Legacy DigitalOcean reverse proxy CNAME retained for redeploy workflows."
    },
    {
      "type": "CNAME",
      "name": "ton-gateway-fallback",
      "data": "ton-gateway.dynamic-capital.lovable.app",
      "ttl": 300,
      "note": "Legacy Lovable reverse proxy CNAME retained for redeploy workflows."
    },
    {
      "type": "TXT",
      "name": "@",
      "data": "wallet=EQDSmz4RrDBFG-T1izwVJ7q1dpAq1mJTLrKwyMYJig6Wx_6y",
      "ttl": 300,
      "note": "Root domain wallet alias mapping dynamiccapital.ton directly to the DCT jetton master contract"
    },
    {
      "type": "TXT",
      "name": "hello",
      "data": "mailbox=hello@dynamiccapital.ton",
      "ttl": 3600,
      "note": "General inquiries mailbox alias advertised through TON DNS"
    },
    {
      "type": "TXT",
      "name": "support",
      "data": "mailbox=support@dynamiccapital.ton",
      "ttl": 3600,
      "note": "Customer support mailbox alias advertised through TON DNS"
    },
    {
      "type": "TXT",
      "name": "pay",
      "data": "wallet=EQAmzcKg3eybUNzsT4llJrjoDe7FwC51nSRhJEMACCdniYhq",
      "ttl": 300,
      "note": "Treasury payment alias so pay.dynamiccapital.ton resolves to the DCT treasury wallet inside TON DNS"
    }
  ],
  "notes": [
    "TON DNS uses blockchain-based resolution via smart contracts",
    "Records must be set through TON DNS resolver contract",
    "Register domain at TON DNS marketplace (e.g., dns.ton.org)",
    "Update resolver_contract address after deployment",
    "TON Site ADNL 0:65f3bcd1730c1cdde82a75b0331ee8b5c28203f1ab1e7467347ae7b937feb239 (see ton_site.public_key_base64)",
    "Verify resolution through TON DNS tools before going live",
    "Supabase custom domains require `_acme-challenge.api.dynamiccapital.ton` TXT records during verification. Capture the issued tokens in this repo before activation and pin them to TON Storage/IPFS with the hash recorded in the operations multisig memo.",
    "Keep the `ton-gateway` CNAMEs aligned with the DigitalOcean and Lovable reverse proxy hostnames so browsers without TON DNS continue to bridge through HTTPS.",
    "2025-10-08: Follow-up HTTPS probe captured HTTP 503 responses from both gateways. Investigate the DigitalOcean app host https://dynamic-capital-qazf2.ondigitalocean.app/ returning HTTP 404 and restore the TON bundle before revalidating.",
    "2025-10-10: Redeployed the TON Site bundle to dynamic-capital-qazf2.ondigitalocean.app, clearing the 404 at the origin and restoring HTTP 200 responses on both HTTPS gateways.",
    "2025-10-10 16:41 UTC: Follow-up probe recorded HTTP 503 on both gateways and HTTP 404 on the DigitalOcean origin. Leave verification in error until the TON bundle is republished.",
    "2025-10-10 02:32 UTC: Post-restoration probes confirmed HTTP 200 on the origin and both gateways; automation restored the resolver verification status to ok.",
    "Record resolver or ownership transactions in dns/ton-dns-operations-log.md immediately after broadcasting them so the on-chain audit trail stays aligned with the repository snapshot.",
    "Use a low TTL (e.g., 60\u2013300 seconds) on the API CNAME until the Supabase certificate is issued, then raise it for stability.",
    "After activation, emit a `custom_domain_activated` event into Supabase `tx_logs` referencing the DNS bundle hash so auditors can verify the Web3 linkage.",
    "Desktop browsers without a TON resolver will show `DNS_PROBE_FINISHED_NXDOMAIN`; direct them to https://ton.site/dynamiccapital.ton (legacy self-hosted gateways remain documented for redeploys) or install a TON DNS wallet extension to regain access.",
    "Before announcing pay.dynamiccapital.ton, broadcast the TON DNS `wallet` category pointing at the treasury wallet (EQAmzcKg3eybUNzsT4llJrjoDe7FwC51nSRhJEMACCdniYhq) so wallet UIs resolve the alias without fallback.",
    "Treat https://dynamiccapital.ton as the canonical production surface; keep the DigitalOcean, Lovable, and Vercel hosts warm as failover origins and document rollovers in Supabase `tx_logs`.",
    "2025-09-30: Auction fill-up executed (event 96ac854938b992f71f33827dac42a7aa9e302539fc55347e006f6eee74dc0d89) adding 0.024137527 TON to the resolver after fees; schedule the next renewal reminder for August 2026.",
    "When Supabase issues a fresh ACME token, stage it under dns/operations/acme/ with the block height, then update the TXT record here and commit the hash reference to the multisig memo.",
    "Monitor synthetic probe alerts in #dynamiccapital-ton-site and pause announcements if the gateways report HTTP errors.",
    "When redeploying the DigitalOcean origin, update ton_site.monitoring.last_successful_probe with the timestamp from the observability dashboard.",
    "2025-02-14: Promoted https://ton.site/dynamiccapital.ton as the primary HTTPS gateway while self-hosted proxies remain offline pending redeploy. Update scripts once the DigitalOcean and Lovable gateways return to service."
  ]
}
