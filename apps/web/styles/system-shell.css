.system-shell {
  position: relative;
  width: 100%;
  min-height: 100%;
  isolation: isolate;
  background: var(--surface-base);
  color: hsl(var(--foreground));
  overflow: hidden;
}

.system-shell[data-variant="miniapp"] {
  background: var(--tg-bg, var(--surface-base));
  color: var(--tg-text, hsl(var(--foreground)));
}

.system-shell::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  transition: opacity 0.4s ease;
}

.system-shell::before {
  inset: -20% -30% 0;
  background:
    radial-gradient(
      circle at 18% 18%,
      hsl(var(--surface-glow) / 0.75),
      transparent 60%
    ),
    radial-gradient(
    circle at 82% 12%,
    hsl(var(--surface-glow) / 0.6),
    transparent 65%
  ),
    radial-gradient(
    circle at 50% 100%,
    hsl(var(--surface-glow) / 0.45),
    transparent 70%
  );
  filter: blur(48px);
  opacity: 0.35;
}

.system-shell[data-variant="miniapp"]::before {
  opacity: 0.55;
  filter: blur(44px);
}

.system-shell[data-variant="page"]::before {
  opacity: 0.28;
  filter: blur(52px);
}

.system-shell__body {
  position: relative;
  z-index: 1;
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

.system-shell__footer {
  position: relative;
  z-index: 1;
}

.system-shell .app-shell-header,
.system-shell .app-shell-footer {
  display: contents;
}
